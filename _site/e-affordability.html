<!DOCTYPE html>
<html lang="en">
  

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,minimum-scale=1">

  <title>AFFORDABILITY - Is the energy affordable?</title>
  <meta name="description" content="ASEQUIBILIDAD ¿Pueden los hogares permitirse la compra de electricidad?">

  <link rel="canonical" href="http://0.0.0.0:4000//e-affordability.html">
  <link rel="alternate" type="application/rss+xml" title="Energy Access Report" href="http://0.0.0.0:4000//feed.xml">

  <meta property="og:url"         content="http://0.0.0.0:4000//e-affordability.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="AFFORDABILITY - Is the energy affordable?" />
<meta property="og:description" content="ASEQUIBILIDAD ¿Pueden los hogares permitirse la compra de electricidad?" />
<meta property="og:image"       content="" />


  <script type="application/ld+json">
  {
  "@context": "http://schema.org",
  "@type": "NewsArticle",
  "mainEntityOfPage":
    "http://0.0.0.0:4000//e-affordability.html",
  "headline":
    "AFFORDABILITY - Is the energy affordable?",
  "datePublished":
    "2019-07-07T13:44:33-05:00",
  "dateModified":
    "2019-07-07T13:44:33-05:00",
  "description":
    "ASEQUIBILIDAD ¿Pueden los hogares permitirse la compra de electricidad?",
  "author": {
    "@type": "Person",
    "name": "HEDERA"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Data 100 at UC Berkeley",
    "logo": {
      "@type": "ImageObject",
      "url": "http://0.0.0.0:4000/",
      "width": 60,
      "height": 60
    }
  },
  "image": {
    "@type": "ImageObject",
    "url": "http://0.0.0.0:4000/",
    "height": 60,
    "width": 60
  }
}

  </script>
  <link rel="stylesheet" href="/assets/css/styles.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css ">
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">

  <!-- <link rel="manifest" href="/manifest.json"> -->
  <!-- <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#efae0a"> -->
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-TileImage" content="/mstile-144x144.png">
  <meta name="theme-color" content="#233947">

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="/images/logo/favicon.ico">

  <!-- MathJax Config -->
  <!-- Allow inline math using $ and automatically break long math lines -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true,
        processEnvironments: true
    },
    CommonHTML: {
        linebreaks: {
            automatic: true,
        },
    },
});
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_CHTML' async></script>

  <!-- DOM updating function -->
  <script>
const runWhenDOMLoaded = cb => {
  if (document.readyState != 'loading') {
    cb()
  } else if (document.addEventListener) {
    document.addEventListener('DOMContentLoaded', cb)
  } else {
    document.attachEvent('onreadystatechange', function() {
      if (document.readyState == 'complete') cb()
    })
  }
}

// Helper function to init things quickly
initFunction = function(myfunc) {
  runWhenDOMLoaded(myfunc);
  document.addEventListener('turbolinks:load', myfunc);
};
</script>

  <!-- Define some javascript variables that will be useful in other javascript -->
  <script>
    const site_basename = '/';
  </script>

  <!-- Add AnchorJS to let headers be linked -->
  <script src="/assets/js/anchor.min.js"  type="text/javascript"></script>
  <script>

initFunction(function () {
    anchors.add("main h1, main h2, main h3, main h4")
});

</script>

  <!-- Include Turbolinks to make page loads fast -->
  <!-- https://github.com/turbolinks/turbolinks -->
  <script src="/assets/js/turbolinks.js" async></script>
  <meta name="turbolinks-cache-control" content="no-cache">

  <!-- Load nbinteract for widgets -->
  

  <!-- Load Thebelab for interactive widgets -->
  <!-- Include Thebelab for interactive code if it's enabled -->



  <!-- Load the auto-generating TOC -->
  <script src="/assets/js/tocbot.min.js"  type="text/javascript"></script>
  <script>
var initToc = function () {
  tocbot.init({
    tocSelector: 'nav.onthispage',
    contentSelector: '.c-textbook__content',
    headingSelector: 'h2, h3',
    orderedList: false,
    collapseDepth: 6,
    listClass: 'toc__menu',
    activeListItemClass: "",  // Not using
    activeLinkClass: "", // Not using
  });
  tocbot.refresh();
}
initFunction(initToc);
</script>

  <!-- Google analytics -->
  <script src="/assets/js/ga.js" async></script>

  <!-- Clipboard copy button -->
  <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" async></script>

  <!-- Load JS that depends on site variables -->
  <script>
/**
 * Set up copy/paste for code blocks
 */
const codeCellId = index => `codecell${index}`

const clipboardButton = id =>
  `<a id="copy-button-${id}" class="btn copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#${id}">
    <img src="/assets/images/copy-button.svg" alt="Copy to clipboard">
  </a>`

// Clears selected text since ClipboardJS will select the text when copying
const clearSelection = () => {
  if (window.getSelection) {
    window.getSelection().removeAllRanges()
  } else if (document.selection) {
    document.selection.empty()
  }
}

// Changes tooltip text for two seconds, then changes it back
const temporarilyChangeTooltip = (el, newText) => {
  const oldText = el.getAttribute('data-tooltip')
  el.setAttribute('data-tooltip', newText)
  setTimeout(() => el.setAttribute('data-tooltip', oldText), 2000)
}

const addCopyButtonToCodeCells = () => {
  // If ClipboardJS hasn't loaded, wait a bit and try again. This
  // happens because we load ClipboardJS asynchronously.
  if (window.ClipboardJS === undefined) {
    setTimeout(addCopyButtonToCodeCells, 250)
    return
  }

  const codeCells = document.querySelectorAll('div.c-textbook__content > div.highlighter-rouge > div.highlight > pre, div.input_area pre')
  codeCells.forEach((codeCell, index) => {
    const id = codeCellId(index)
    codeCell.setAttribute('id', id)
    if (document.getElementById("copy-button" + id) == null) {
      codeCell.insertAdjacentHTML('afterend', clipboardButton(id));
    }
  })

  const clipboard = new ClipboardJS('.copybtn')
  clipboard.on('success', event => {
    clearSelection()
    temporarilyChangeTooltip(event.trigger, 'Copied!')
  })

  clipboard.on('error', event => {
    temporarilyChangeTooltip(event.trigger, 'Failed to copy')
  })

  // Get rid of clipboard before the next page visit to avoid memory leak
  document.addEventListener('turbolinks:before-visit', () =>
    clipboard.destroy()
  )
}

initFunction(addCopyButtonToCodeCells);
</script>


  <!-- Hide cell code -->
  
<script>
/**
Add buttons to hide code cells
*/


var setCodeCellVisibility = function(inputField, kind) {
    // Update the image and class for hidden
    var id = inputField.getAttribute('data-id');
    var codeCell = document.querySelector(`#${id} div.highlight`);

    if (kind === "visible") {
        codeCell.classList.remove('hidden');
        inputField.checked = true;
    } else {
        codeCell.classList.add('hidden');
        inputField.checked = false;
    }
}

var toggleCodeCellVisibility = function (event) {
    // The label is clicked, and now we decide what to do based on the input field's clicked status
    if (event.target.tagName === "LABEL") {
        var inputField = event.target.previousElementSibling;
    } else {
        // It is the span inside the target
        var inputField = event.target.parentElement.previousElementSibling;
    }

    if (inputField.checked === true) {
        setCodeCellVisibility(inputField, "visible");
    } else {
        setCodeCellVisibility(inputField, "hidden");
    }
}


// Button constructor
const hideCodeButton = id => `<input class="hidebtn" type="checkbox" id="hidebtn${id}" data-id="${id}"><label title="Toggle cell" for="hidebtn${id}" class="plusminus"><span class="pm_h"></span><span class="pm_v"></span></label>`

var addHideButton = function () {
  // If a hide button is already added, don't add another
  if (document.querySelector('div.hidecode input') !== null) {
      return;
  }

  // Find the input cells and add a hide button
  document.querySelectorAll('div.input_area').forEach(function (item, index) {
    if (!item.classList.contains("hidecode")) {
        // Skip the cell if it doesn't have a hidecode class
        return;
    }

    const id = codeCellId(index)
    item.setAttribute('id', id);
    // Insert the button just inside the end of the next div
    item.querySelector('div').insertAdjacentHTML('beforeend', hideCodeButton(id))

    // Set up the visibility toggle
    hideLink = document.querySelector(`#${id} div.highlight + input + label`);
    hideLink.addEventListener('click', toggleCodeCellVisibility)
  });
}


// Initialize the hide buttos
var initHiddenCells = function () {
    // Add hide buttons to the cells
    addHideButton();

    // Toggle the code cells that should be hidden
    document.querySelectorAll('div.hidecode input').forEach(function (item) {
        setCodeCellVisibility(item, 'hidden');
        item.checked = true;
    })
}

initFunction(initHiddenCells);

</script>


  <!-- Load custom website scripts -->
  <script src="/assets/js/scripts.js" async></script>

  <!-- Load custom user CSS and JS  -->
  <script src="/assets/custom/custom.js" async></script>
  <link rel="stylesheet" href="/assets/custom/custom.css">

  <!-- Update interact links w/ REST param, is defined in includes so we can use templates -->
  

  <!-- Lunr search code - will only be executed on the /search page -->
  <script src="/assets/js/lunr/lunr.min.js" type="text/javascript"></script>
  <script>var initQuery = function() {
  // See if we have a search box
  var searchInput = document.querySelector('input#lunr_search');
  if (searchInput === null) {
    return;
  }

  // Function to parse our lunr cache
  var idx = lunr(function () {
    this.field('title')
    this.field('excerpt')
    this.field('categories')
    this.field('tags')
    this.ref('id')

    this.pipeline.remove(lunr.trimmer)

    for (var item in store) {
      this.add({
        title: store[item].title,
        excerpt: store[item].excerpt,
        categories: store[item].categories,
        tags: store[item].tags,
        id: item
      })
    }
  });

  // Run search upon keyup
  searchInput.addEventListener('keyup', function () {
    var resultdiv = document.querySelector('#results');
    var query = document.querySelector("input#lunr_search").value.toLowerCase();
    var result =
      idx.query(function (q) {
        query.split(lunr.tokenizer.separator).forEach(function (term) {
          q.term(term, { boost: 100 })
          if(query.lastIndexOf(" ") != query.length-1){
            q.term(term, {  usePipeline: false, wildcard: lunr.Query.wildcard.TRAILING, boost: 10 })
          }
          if (term != ""){
            q.term(term, {  usePipeline: false, editDistance: 1, boost: 1 })
          }
        })
      });

      // Empty the results div
      while (resultdiv.firstChild) {
        resultdiv.removeChild(resultdiv.firstChild);
      }

    resultdiv.insertAdjacentHTML('afterbegin', '<p class="results__found">'+result.length+' Result(s) found</p>');
    for (var item in result) {
      var ref = result[item].ref;
      if(store[ref].teaser){
        var searchitem =
          '<div class="list__item">'+
            '<article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">'+
              '<h2 class="archive__item-title" itemprop="headline">'+
                '<a href="'+store[ref].url+'" rel="permalink">'+store[ref].title+'</a>'+
              '</h2>'+
              '<div class="archive__item-teaser">'+
                '<img src="'+store[ref].teaser+'" alt="">'+
              '</div>'+
              '<p class="archive__item-excerpt" itemprop="description">'+store[ref].excerpt.split(" ").splice(0,20).join(" ")+'...</p>'+
            '</article>'+
          '</div>';
      }
      else{
    	  var searchitem =
          '<div class="list__item">'+
            '<article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">'+
              '<h2 class="archive__item-title" itemprop="headline">'+
                '<a href="'+store[ref].url+'" rel="permalink">'+store[ref].title+'</a>'+
              '</h2>'+
              '<p class="archive__item-excerpt" itemprop="description">'+store[ref].excerpt.split(" ").splice(0,20).join(" ")+'...</p>'+
            '</article>'+
          '</div>';
      }
      resultdiv.insertAdjacentHTML('beforeend', searchitem);
    }
  });
};

initFunction(initQuery);
</script>
</head>

  <body>
    <!-- .js-show-sidebar shows sidebar by default -->
    <div id="js-textbook" class="c-textbook js-show-sidebar">
      



<nav id="js-sidebar" class="c-textbook__sidebar">
  <a href="http://hedera.online/"><img src="/images/logo/logo.png" class="textbook_logo" id="sidebar-logo" data-turbolinks-permanent/></a>
  <h2 class="c-sidebar__title">Energy Access Report</h2>
  <ul class="c-sidebar__chapters">
    
      
      
        <li class="c-sidebar__chapter"><a class="c-sidebar__entry" href="/search.html">Search</a></li>
        
      
      
        <li class="c-sidebar__divider"></li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/intro.html"
        >
          
          Introduction
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections ">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/mtf.html"
                >
                  
                  The Multi-tier Framework for Measuring Energy Access
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/methodology.html"
                >
                  
                  Methodology
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/collect.html"
                >
                  
                  The App HEDERA collect
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/summary.html"
        >
          
          Executive Summary
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/gps.html"
        >
          
          Interactive - Map View
        </a>

        
      </li>

      
    
      
      
        <li class="c-sidebar__divider"></li>
        
      
      
        <li><h2 class="c-sidebar__title">Access to Electricity</li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/e-sources.html"
        >
          
          Electricity Sources
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/e-services.html"
        >
          
          Energy Services & Appliances
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry c-sidebar__entry--active"
          href="/e-affordability.html"
        >
          
          AFFORDABILITY - Is the energy affordable?
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/e-quality.html"
        >
          
          QUALITY - Does voltage fluctuation affect appliances?
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/e-capacity.html"
        >
          
          Capacity - If the capacity enough to satisfy household needs?
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/e-reliability.html"
        >
          
          RELIABILITY - Is the energy provided reliable?
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/e-duration.html"
        >
          
          DURATION - How many hours if electricity available?
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/e-legality.html"
        >
          
          LEGALITY - Is the access to energy formal (legal) or informal?
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/e-safety.html"
        >
          
          SAFETY - Is the energy safe?
        </a>

        
      </li>

      
    
      
      
        <li class="c-sidebar__divider"></li>
        
      
      
        <li><h2 class="c-sidebar__title">Access to Modern Cooking Solutions</li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/c-solutions.html"
        >
          
          Cooking Solutions
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/c-convenience.html"
        >
          
          CONVENCIENCE -  How much time is needed to fetch fuel and prepare the stove?
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/c-affordability.html"
        >
          
          AFFORDABILITY - Is the fuel affordable?
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/c-availability.html"
        >
          
          AVAILABILITY - Is the cooking fuel available throughout the year?
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/c-safety.html"
        >
          
          SAFETY - Is the cooking solution (stove and fuel) safe?
        </a>

        
      </li>

      
    
      
      
        <li class="c-sidebar__divider"></li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/conclusions.html"
        >
          
          CONCLUSIONS
        </a>

        
      </li>

      
    
      
      
        <li class="c-sidebar__divider"></li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="http://hedera.online"
        >
          
          HEDERA
        </a>

        
      </li>

      
    
  </ul>
  <p class="sidebar_footer"></p>
</nav>

      
      <!-- Empty sidebar placeholder that we'll auto-fill with javascript -->
      <aside class="sidebar__right">
          <header><h4 class="nav__title"><i class="fa fa-list"></i> On this page</h4></header>
          <nav class="onthispage">
          </nav>
      </aside>
      
      <main class="c-textbook__page" tabindex="-1">
          <div class="o-wrapper">
            <div class="c-sidebar-toggle">
  <!-- We show the sidebar by default so we use .is-active -->
  <button
    id="js-sidebar-toggle"
    class="hamburger hamburger--arrowalt is-active"
  >
    <span class="hamburger-box">
      <span class="hamburger-inner"></span>
    </span>
    <span class="c-sidebar-toggle__label">Toggle Sidebar</span>
  </button>
</div>

            
<div class="buttons">






</div>


            <div class="c-textbook__content">
              <h1 id="asequibilidad-pueden-los-hogares-permitirse-la-compra-de-electricidad">ASEQUIBILIDAD ¿Pueden los hogares permitirse la compra de electricidad?</h1>

<p>Sólo hay dos posibles catego- rizaciones de niveles. Los hoga- res con un costo de consumo su- perior al 5% de sus ingresos es- tán en el nivel 2, de lo contrario en el nivel 5.</p>

<h3 id="clasificación-mtf">Clasificación MTF</h3>

<h2 id="categorización-mtf">Categorización MTF</h2>

<p>Texto: Según los aparatos que disponga y haga uso el hogar, se clasifican estos siguiendo la matriz de evaluación del MTF.</p>

<p>Imagen: Matriz Acceso a Servicios Electricos MTF</p>

<p>Grafica de python: MTF de asequibilidad</p>

<p>Offices/Regions</p>

<div class="cell code_cell">
  <div class="input_area hidecode">
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># load packages</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="n">sns</span>
<span class="kn">import</span> <span class="nn">os</span><span class="p">,</span><span class="n">sys</span>
<span class="n">here</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s">''</span><span class="p">)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">here</span><span class="p">,</span> <span class="s">'../../src'</span><span class="p">)))</span>
<span class="kn">import</span> <span class="nn">hedera_types</span> <span class="k">as</span> <span class="n">hedera</span>
<span class="kn">import</span> <span class="nn">odk_interface</span> <span class="k">as</span> <span class="n">odk</span>
<span class="kn">import</span> <span class="nn">mtf</span>
<span class="kn">from</span> <span class="nn">pivottablejs</span> <span class="kn">import</span> <span class="n">pivot_ui</span>

<span class="c"># load institution data</span>
<span class="n">fondesurco</span> <span class="o">=</span> <span class="n">hedera</span><span class="o">.</span><span class="n">mfi</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">odk_data_dir</span> <span class="o">=</span> <span class="s">'../../_datasets/DataODK/'</span>
<span class="n">odk_survey_folder</span> <span class="o">=</span> <span class="p">[</span><span class="s">'PEPI_19_03_19/'</span><span class="p">,</span><span class="s">'PEPI_FONDESURCO_19_04_17/'</span><span class="p">]</span>
<span class="n">odk_data_name</span> <span class="o">=</span> <span class="p">[</span><span class="n">odk_data_dir</span> <span class="o">+</span> <span class="n">odk_survey_folder</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s">'PEPI_results.csv'</span><span class="p">,</span>
                 <span class="n">odk_data_dir</span> <span class="o">+</span> <span class="n">odk_survey_folder</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> 
                 <span class="s">'PEPI_FONDESURCO_2_results.csv'</span><span class="p">]</span>
<span class="n">fondesurco</span><span class="o">.</span><span class="n">gpsFile</span> <span class="o">=</span> <span class="s">'../../_datasets/Fondesurco/HederaGPS/All.txt'</span>
<span class="n">fondesurco</span><span class="o">.</span><span class="n">data_client_file</span> <span class="o">=</span> <span class="s">'../../_datasets/Fondesurco/ClientDatabases/data_with_GPS_3.csv'</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">fondesurco</span><span class="o">.</span><span class="n">read_survey</span><span class="p">(</span><span class="n">odk_data_name</span><span class="p">)</span>
<span class="n">fondesurco</span><span class="o">.</span><span class="n">HH</span> <span class="o">=</span> <span class="n">odk</span><span class="o">.</span><span class="n">households</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c"># get summaries of used sources, fuels, stoces</span>
<span class="n">collection_overview</span> <span class="o">=</span> <span class="n">odk</span><span class="o">.</span><span class="n">overview</span><span class="p">(</span><span class="n">fondesurco</span><span class="o">.</span><span class="n">HH</span><span class="p">,[</span><span class="n">fondesurco</span><span class="p">])</span>

<span class="n">sources_summary</span> <span class="o">=</span> <span class="n">odk</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">collection_overview</span><span class="p">,</span><span class="n">hedera</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="o">.</span><span class="n">powerSources</span><span class="p">,</span>
                              <span class="n">hedera</span><span class="o">.</span><span class="n">names</span><span class="p">(</span><span class="s">'en'</span><span class="p">)</span><span class="o">.</span><span class="n">powerSources</span><span class="p">,</span>
                              <span class="n">hedera</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="o">.</span><span class="n">powerSourcesColors</span><span class="p">)</span>
<span class="n">stoves_summary</span> <span class="o">=</span> <span class="n">odk</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">collection_overview</span><span class="p">,</span><span class="n">hedera</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="o">.</span><span class="n">stoves</span><span class="p">,</span>
                             <span class="n">hedera</span><span class="o">.</span><span class="n">names</span><span class="p">(</span><span class="s">'es'</span><span class="p">)</span><span class="o">.</span><span class="n">stoves</span><span class="p">,</span>
                             <span class="n">hedera</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="o">.</span><span class="n">stovesColors</span><span class="p">)</span>
<span class="n">fuels_summary</span> <span class="o">=</span> <span class="n">odk</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">collection_overview</span><span class="p">,</span><span class="n">hedera</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="o">.</span><span class="n">fuels</span><span class="p">,</span>
                              <span class="n">hedera</span><span class="o">.</span><span class="n">names</span><span class="p">(</span><span class="s">'es'</span><span class="p">)</span><span class="o">.</span><span class="n">fuels</span><span class="p">,</span>
                              <span class="n">hedera</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="o">.</span><span class="n">fuelsColors</span><span class="p">)</span>

<span class="n">data_client_path</span> <span class="o">=</span> <span class="s">'../../_datasets/Fondesurco/ClientDatabases/data_with_GPSs_2.csv'</span>
<span class="n">data_econ_act_path</span> <span class="o">=</span> <span class="s">'../../_datasets/Fondesurco/ClientDatabases/data_econ_activity.csv'</span>
<span class="n">HH_all_client</span> <span class="o">=</span> <span class="n">fondesurco</span><span class="o">.</span><span class="n">merge_with_client_data</span><span class="p">(</span><span class="n">fondesurco</span><span class="o">.</span><span class="n">HH</span><span class="p">,</span>
                                                  <span class="n">data_client_path</span><span class="p">,</span>
                                                  <span class="n">data_econ_act_path</span><span class="p">)</span>

<span class="c"># TO DO..</span>
<span class="c"># update HH with HH database of institution</span>
<span class="c"># fondesurco.merge_with_client_data(data_client_path,data_econ_act_path)</span>


<span class="c"># plot MTF Affordability</span>
<span class="n">fondesurco</span><span class="o">.</span><span class="n">tier_plots</span><span class="p">(</span><span class="s">'E_Affordability'</span><span class="p">)</span>

</code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">

      <p class="output_png"><img src="images/e-affordability_2_0.png" alt="png" /></p>

    </div>
  </div>
  <div class="output_wrapper">
    <div class="output_subarea">

      <p class="output_png"><img src="images/e-affordability_2_1.png" alt="png" /></p>

    </div>
  </div>
</div>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">hedera</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="o">.</span><span class="n">attributes_electricity</span>

</code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">

      <div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>['E_Affordability',
 'E_Capacity',
 'E_Reliability',
 'E_Duration',
 'E_Legality',
 'E_Quality',
 'E_Safety',
 'E_Services',
 'E_Index',
 'PEPI_E_Affordability',
 'PEPI_E_Reliability']
</code></pre></div>      </div>

    </div>
  </div>
</div>

<h2 id="fuentes-de-energía-vs-asequibilidad">Fuentes de energía vs. asequibilidad</h2>

<p>Grafica de python: Number of HH in Tier 2 or 5 vs. source</p>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c"># affordability vs energy source</span>
<span class="n">hedera</span><span class="o">.</span><span class="n">plot_stacked_tier_per_category</span><span class="p">(</span><span class="n">fondesurco</span><span class="o">.</span><span class="n">HH</span><span class="p">,</span><span class="s">'E_Affordability'</span><span class="p">,</span>
                                      <span class="n">sources_summary</span><span class="o">.</span><span class="n">used_keys</span><span class="p">,</span>
                                      <span class="s">'primary_electricity_source'</span><span class="p">,</span>
                                      <span class="n">sources_summary</span><span class="o">.</span><span class="n">used_names</span><span class="p">)</span>
</code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">

      <p class="output_png"><img src="images/e-affordability_5_0.png" alt="png" /></p>

    </div>
  </div>
</div>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fondesurco</span><span class="o">.</span><span class="n">tier_barh</span><span class="p">(</span><span class="n">hedera</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="o">.</span><span class="n">attributes_electricity</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">8</span><span class="p">],</span>
                     <span class="n">hedera</span><span class="o">.</span><span class="n">names</span><span class="p">(</span><span class="s">'en'</span><span class="p">)</span><span class="o">.</span><span class="n">e_attributes</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">8</span><span class="p">],</span>
                     <span class="n">figPath</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                     <span class="n">figName</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                     <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">

      <p class="output_png"><img src="images/e-affordability_6_0.png" alt="png" /></p>

    </div>
  </div>
</div>

<h2 id="quintiles-de-ingreso-vs-asequibilidad">Quintiles de ingreso vs. asequibilidad</h2>

<p>Grafica de python: Quintile vs. asequibilidad</p>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">odk</span><span class="o">.</span><span class="n">plot_tiers_per_quintile</span><span class="p">(</span><span class="n">fondesurco</span><span class="o">.</span><span class="n">HH</span><span class="p">,</span><span class="s">'E_Affordability'</span><span class="p">,</span><span class="n">figPath</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">

      <p class="output_png"><img src="images/e-affordability_8_0.png" alt="png" /></p>

    </div>
  </div>
</div>

<h2 id="monto-de-crédito-vs-asequibilidad">Monto de crédito vs. asequibilidad</h2>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">HH_df</span><span class="o">=</span><span class="n">HH_all_client</span><span class="o">.</span><span class="nb">filter</span><span class="p">([</span><span class="s">'income'</span><span class="p">,</span><span class="s">'MONTO'</span><span class="p">,</span><span class="s">'energy_expenses'</span><span class="p">,</span> <span class="s">'cooking_expenses'</span><span class="p">,</span> <span class="s">'E_Index'</span><span class="p">,</span> <span class="s">'C_Index'</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">HH_df</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">'Ingresos'</span><span class="p">,</span> <span class="s">'Monto crédito'</span><span class="p">,</span> <span class="s">'Gastos energía'</span><span class="p">,</span> <span class="s">'Gastos cocción'</span><span class="p">,</span> <span class="s">'Nivel de accesso a energía'</span><span class="p">,</span> <span class="s">'Nivel de accesso a cocción'</span><span class="p">]</span>
<span class="n">expenses</span><span class="o">=</span><span class="p">[</span><span class="s">'Gastos energía'</span><span class="p">,</span><span class="s">'Gastos cocción'</span><span class="p">]</span>
<span class="n">tier_names</span><span class="o">=</span><span class="p">[</span><span class="s">'Nivel de accesso a energía'</span><span class="p">,</span> <span class="s">'Nivel de accesso a cocción'</span><span class="p">]</span>


<span class="n">HH_all_client</span><span class="o">.</span><span class="n">columns</span>

</code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">

      <div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Index(['DNI_x', 'date', 'duration', 'GPS_Latitude', 'GPS_Longitude',
       'locality', 'institution_id', 'income', 'household_survey',
       'electricity_survey', 'cooking_survey', 'primary_electricity_source',
       'secondary_electricity_source', 'energy_expenses', 'consumption',
       'primary_stove', 'primary_cooking_fuel', 'secondary_cooking_fuel',
       'secondary_stove', 'cooking_expenses', 'E_Affordability', 'E_Capacity',
       'E_Legality', 'E_Reliability', 'E_Quality', 'E_Duration', 'E_Safety',
       'E_Services', 'C_Affordability', 'C_Convenience', 'C_Availability',
       'C_Quality', 'C_Safety', 'E_Index', 'Minimum_Attributes_E_mult',
       'PEPI_E_Affordability', 'PEPI_E_Reliability', 'PEPI_E_Safety',
       'C_Index', 'PEPI_C_Affordability', 'Minimum_Attributes_C_mult',
       'PEPI_C_Availability', 'PEPI_C_Safety', 'HEDERA_ID', 'DNI_y',
       'Latitude', 'Longitude', 'FONDESURCO_ID', 'SOLICITUD', 'CODIGO CLIENTE',
       'CREDITO', 'NOMBRE', 'EDAD', 'GENERO', 'ESTADO CIVIL',
       'ACT. ECONOMICA_x', 'DESTINO CRÉDITO', 'MONTO', 'DIRECCION', 'AGENCIA',
       'CUOTAS', 'TELEFONO', 'Lat', 'Long', 'Unnamed: 21', 'Unnamed: 22',
       'Unnamed: 23', 'Unnamed: 24', 'SECTOR ECONOMICO FONDESURCO',
       'SECTOR ECONOMICO', 'ACT. ECONOMICA_y'],
      dtype='object')
</code></pre></div>      </div>

    </div>
  </div>
</div>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">HH_all_client</span><span class="p">[</span><span class="s">'MONTO'</span><span class="p">]</span>
</code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">

      <div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0          NaN
70      2000.0
1          NaN
122     1000.0
99      2000.0
93      2000.0
83      1000.0
84      3000.0
121     1000.0
91      5000.0
118     1000.0
102     2000.0
113     2000.0
10     15000.0
24     11000.0
110     5000.0
75       500.0
46      3000.0
59     12000.0
26      3500.0
117     2500.0
125      500.0
23      6000.0
130     1000.0
51       600.0
86      3500.0
17      7000.0
128      600.0
39      3000.0
115      500.0
        ...   
8      10000.0
41     40000.0
61      1500.0
16      3000.0
85      1500.0
69      2000.0
97      1000.0
82      1500.0
105      300.0
100     4500.0
87      1000.0
90      1500.0
37      5000.0
34     12000.0
5      10000.0
62      6000.0
74       300.0
80      1115.0
89     20000.0
11     10000.0
68      3000.0
32      1000.0
73      3000.0
79       500.0
38      4500.0
7      19600.0
133     1000.0
114     1000.0
48      1500.0
76       500.0
Name: MONTO, Length: 136, dtype: float64
</code></pre></div>      </div>

    </div>
  </div>
</div>

<h2 id="tipo-de-crédito-vs-servicios">Tipo de crédito vs. servicios</h2>

<p>Grafica de python: Tipo de credito vs. asequibilidad</p>

<h2 id="estado-civil-vs-servicios">Estado civil vs. servicios</h2>

<p>Grafica de python: Estado civil vs. asequibilidad</p>

<h2 id="género-vs-servicios">Género vs. servicios</h2>

<p>Grafica de python: Estado civil vs. asequibilidad</p>

<h2 id="tabla-interactiva">TABLA INTERACTIVA</h2>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fondesurco</span><span class="o">.</span><span class="n">HH</span><span class="o">.</span><span class="n">columns</span>
</code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">

      <div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Index(['DNI', 'date', 'duration', 'GPS_Latitude', 'GPS_Longitude', 'locality',
       'institution_id', 'income', 'household_survey', 'electricity_survey',
       'cooking_survey', 'primary_electricity_source',
       'secondary_electricity_source', 'energy_expenses', 'consumption',
       'primary_stove', 'primary_cooking_fuel', 'secondary_cooking_fuel',
       'secondary_stove', 'cooking_expenses', 'E_Affordability', 'E_Capacity',
       'E_Legality', 'E_Reliability', 'E_Quality', 'E_Duration', 'E_Safety',
       'E_Services', 'C_Affordability', 'C_Convenience', 'C_Availability',
       'C_Quality', 'C_Safety', 'E_Index', 'Minimum_Attributes_E_mult',
       'PEPI_E_Affordability', 'PEPI_E_Reliability', 'PEPI_E_Safety',
       'C_Index', 'PEPI_C_Affordability', 'Minimum_Attributes_C_mult',
       'PEPI_C_Availability', 'PEPI_C_Safety'],
      dtype='object')
</code></pre></div>      </div>

    </div>
  </div>
</div>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>


</code></pre></div>    </div>
  </div>

</div>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pivot_ui</span><span class="p">(</span><span class="n">fondesurco</span><span class="o">.</span><span class="n">HH</span><span class="p">)</span>
</code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">

      <div class="output output_html">

        <iframe width="100%" height="500" src="pivottablejs.html" frameborder="0" allowfullscreen=""></iframe>
        
</div>

    </div>
  </div>
</div>

              <nav class="c-page__nav">
  
    
    <a id="js-page__nav__prev" class="c-page__nav__prev" href="/e-services">
      〈 <span class="u-margin-right-tiny"></span> Energy Services & Appliances
    </a>
  

  
    
    <a id="js-page__nav__next" class="c-page__nav__next" href="/e-quality">
      QUALITY - Does voltage fluctuation... <span class="u-margin-right-tiny"></span> 〉
    </a>
  
</nav>

            </div>
          </div>
        </div>
      </main>
    </div>

  </body>
</html>
